DROP ALL

CREATE VERTEX TRAIT (PRIMARY_ID name STRING)
# Vertex types
CREATE VERTEX ARRAY_INITIALIZER_VERT (PRIMARY_ID id UINT, astOrder INT)
CREATE VERTEX BINDING_VERT (PRIMARY_ID id UINT, name STRING, signature STRING)
CREATE VERTEX BLOCK_VERT (PRIMARY_ID id UINT, name STRING, astOrder INT, argumentIndex INT, typeFullName STRING, lineNumber INT)
CREATE VERTEX CALL_VERT (PRIMARY_ID id UINT, name STRING, signature STRING, code STRING, methodInstFullName STRING, methodFullName STRING, argumentIndex INT, dispatchType STRING, typeFullName STRING, lineNumber INT)
CREATE VERTEX CONTROL_STRUCTURE_VERT (PRIMARY_ID id UINT, name STRING, astOrder INT, argumentIndex INT, lineNumber INT)
CREATE VERTEX FIELD_IDENTIFIER_VERT (PRIMARY_ID id UINT, canonicalName STRING, code STRING, argumentIndex INT, astOrder INT, lineNumber INT)
CREATE VERTEX FILE_VERT (PRIMARY_ID id UINT, name STRING, astOrder INT)
CREATE VERTEX IDENTIFIER_VERT (PRIMARY_ID id UINT, name STRING, code STRING, argumentIndex INT, astOrder INT, typeFullName STRING, lineNumber INT)
CREATE VERTEX LITERAL_VERT (PRIMARY_ID id UINT, name STRING, argumentIndex INT, astOrder INT, typeFullName STRING, lineNumber INT)
CREATE VERTEX LOCAL_VERT (PRIMARY_ID id UINT, name STRING, code STRING, astOrder INT, typeFullName STRING, lineNumber INT)
CREATE VERTEX MEMBER_VERT (PRIMARY_ID id UINT, name STRING, code STRING, astOrder INT, typeFullName STRING)
CREATE VERTEX META_DATA_VERT (PRIMARY_ID id UINT, language STRING, version STRING)
CREATE VERTEX METHOD_PARAMETER_IN_VERT (PRIMARY_ID id UINT, name STRING, code STRING, evaluationStrategy STRING, astOrder INT, typeFullName STRING, lineNumber INT)
CREATE VERTEX METHOD_REF_VERT (PRIMARY_ID id UINT, code STRING, argumentIndex INT, astOrder INT, methodInstFullName STRING, methodFullName STRING, lineNumber INT)
CREATE VERTEX METHOD_RETURN_VERT (PRIMARY_ID id UINT, name STRING, typeFullName STRING, astOrder INT, evaluationStrategy STRING, lineNumber INT)
CREATE VERTEX METHOD_VERT (PRIMARY_ID id UINT, name STRING, fullName STRING, astOrder INT, signature STRING, lineNumber INT)
CREATE VERTEX MODIFIER_VERT (PRIMARY_ID id UINT, name STRING, astOrder INT)
CREATE VERTEX NAMESPACE_BLOCK_VERT (PRIMARY_ID id UINT, name STRING, astOrder INT, fullName STRING)
CREATE VERTEX RETURN_VERT (PRIMARY_ID id UINT, code STRING, astOrder INT, argumentIndex INT, lineNumber INT)
CREATE VERTEX TYPE_ARGUMENT_VERT (PRIMARY_ID id UINT, astOrder INT)
CREATE VERTEX TYPE_DECL_VERT (PRIMARY_ID id UINT, name STRING, fullName STRING, typeDeclFullName STRING)
CREATE VERTEX TYPE_PARAMETER_VERT (PRIMARY_ID id UINT, name STRING, astOrder INT)
CREATE VERTEX TYPE_VERT (PRIMARY_ID id UINT, name STRING, fullName STRING, typeDeclFullName STRING)
CREATE VERTEX UNKNOWN_VERT (PRIMARY_ID id UINT, code STRING, typeFullName STRING, astOrder INT, argumentIndex INT, lineNumber INT)
### Edges
# Traits
CREATE DIRECTED EDGE ARRAY_INITIALIZER_VERT_TRAIT (FROM FILE_VERT, TO TRAIT)
CREATE DIRECTED EDGE BLOCK_TRAIT (FROM BLOCK_VERT, TO TRAIT)
CREATE DIRECTED EDGE CALL_TRAIT (FROM CALL_VERT, TO TRAIT)
CREATE DIRECTED EDGE CONTROL_STRUCTURE_TRAIT (FROM CONTROL_STRUCTURE_VERT, TO TRAIT)
CREATE DIRECTED EDGE FIELD_IDENTIFIER_TRAIT (FROM FIELD_IDENTIFIER_VERT, TO TRAIT)
CREATE DIRECTED EDGE FILE_TRAIT (FROM FILE_VERT, TO TRAIT)
CREATE DIRECTED EDGE IDENTIFIER_TRAIT (FROM IDENTIFIER_VERT, TO TRAIT)
CREATE DIRECTED EDGE LITERAL_TRAIT (FROM LITERAL_VERT, TO TRAIT) 
CREATE DIRECTED EDGE LOCAL_TRAIT (FROM LOCAL_VERT, TO TRAIT) 
CREATE DIRECTED EDGE MEMBER_TRAIT (FROM MEMBER_VERT, TO TRAIT) 
CREATE DIRECTED EDGE METHOD_PARAMETER_IN_TRAIT (FROM METHOD_PARAMETER_IN_VERT, TO TRAIT)
CREATE DIRECTED EDGE METHOD_REF_TRAIT (FROM METHOD_REF_VERT, TO TRAIT)
CREATE DIRECTED EDGE METHOD_RETURN_TRAIT (FROM METHOD_RETURN_VERT, TO TRAIT)
CREATE DIRECTED EDGE METHOD_TRAIT (FROM METHOD_VERT, TO TRAIT)
CREATE DIRECTED EDGE MODIFIER_TRAIT (FROM MODIFIER_VERT, TO TRAIT)
CREATE DIRECTED EDGE NAMESPACE_BLOCK_TRAIT (FROM NAMESPACE_BLOCK_VERT, TO TRAIT) 
CREATE DIRECTED EDGE RETURN_TRAIT (FROM RETURN_VERT, TO TRAIT)
CREATE DIRECTED EDGE TYPE_ARGUMENT_TRAIT (FROM TYPE_ARGUMENT_VERT, TO TRAIT)
CREATE DIRECTED EDGE TYPE_DECL_TRAIT (FROM TYPE_DECL_VERT, TO TRAIT)
CREATE DIRECTED EDGE TYPE_PARAMETER_TRAIT (FROM TYPE_PARAMETER_VERT, TO TRAIT)
CREATE DIRECTED EDGE UNKNOWN_TRAIT (FROM UNKNOWN_VERT, TO TRAIT)
# File
CREATE DIRECTED EDGE FILE_METHOD (FROM FILE_VERT, TO METHOD_VERT, name STRING) 
CREATE DIRECTED EDGE FILE_UNKNOWN (FROM FILE_VERT, TO UNKNOWN_VERT, name STRING)
# Method
CREATE DIRECTED EDGE METHOD_METHOD_PARAMETER_IN (FROM METHOD_VERT, TO METHOD_PARAMETER_IN_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_METHOD_RETURN (FROM METHOD_VERT, TO METHOD_RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_MODIFIER (FROM METHOD_VERT, TO MODIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_TYPE_PARAMETER (FROM METHOD_VERT, TO TYPE_PARAMETER_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_CALL (FROM METHOD_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_LITERAL (FROM METHOD_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_IDENTIFIER (FROM METHOD_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_FIELD_IDENTIFIER (FROM METHOD_VERT, TO FIELD_IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_RETURN (FROM METHOD_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_BLOCK (FROM METHOD_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_METHOD_REF (FROM METHOD_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_CONTROL_STRUCTURE (FROM METHOD_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_UNKNOWN (FROM METHOD_VERT, TO UNKNOWN_VERT, name STRING)
# Type decl
CREATE DIRECTED EDGE TYPE_DECL_METHOD (FROM TYPE_DECL_VERT, TO METHOD_VERT, name STRING) 
CREATE DIRECTED EDGE TYPE_DECL_MODIFIER (FROM TYPE_DECL_VERT, TO MODIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE TYPE_DECL_BINDING (FROM TYPE_DECL_VERT, TO BINDING_VERT, name STRING) 
CREATE DIRECTED EDGE TYPE_DECL_TYPE_PARAMETER (FROM TYPE_DECL_VERT, TO TYPE_PARAMETER_VERT, name STRING) 
CREATE DIRECTED EDGE TYPE_DECL_MEMBER (FROM TYPE_DECL_VERT, TO MEMBER_VERT, name STRING)
# Binding
CREATE DIRECTED EDGE BINDING_METHOD (FROM BINDING_VERT, TO METHOD_VERT, name STRING)
# Type argument
CREATE DIRECTED EDGE TYPE_ARGUMENT_TYPE (FROM TYPE_ARGUMENT_VERT, TO TYPE_VERT, name STRING) 
CREATE DIRECTED EDGE TYPE_ARGUMENT_TYPE_PARAMETER (FROM TYPE_ARGUMENT_VERT, TO TYPE_PARAMETER_VERT, name STRING)
# Namespace block
CREATE DIRECTED EDGE NAMESPACE_BLOCK_NAMESPACE_BLOCK (FROM NAMESPACE_BLOCK_VERT, TO NAMESPACE_BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE NAMESPACE_BLOCK_METHOD (FROM NAMESPACE_BLOCK_VERT, TO METHOD_VERT, name STRING) 
CREATE DIRECTED EDGE NAMESPACE_BLOCK_FILE (FROM NAMESPACE_BLOCK_VERT, TO FILE_VERT, name STRING) 
# Literal
CREATE DIRECTED EDGE LITERAL_CALL (FROM LITERAL_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_IDENTIFIER (FROM LITERAL_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_FIELD_IDENTIFIER (FROM LITERAL_VERT, TO FIELD_IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_LITERAL (FROM LITERAL_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_RETURN (FROM LITERAL_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_BLOCK (FROM LITERAL_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_METHOD_REF (FROM LITERAL_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_CONTROL_STRUCTURE (FROM LITERAL_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE LITERAL_UNKNOWN (FROM LITERAL_VERT, TO UNKNOWN_VERT, name STRING)
# Call
CREATE DIRECTED EDGE CALL_CALL (FROM CALL_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_LITERAL (FROM CALL_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_IDENTIFIER (FROM CALL_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_FIELD_IDENTIFIER (FROM CALL_VERT, TO FIELD_IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_RETURN (FROM CALL_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_BLOCK (FROM CALL_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_METHOD_REF (FROM CALL_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_CONTROL_STRUCTURE (FROM CALL_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE CALL_UNKNOWN (FROM CALL_VERT, TO UNKNOWN_VERT, name STRING) 
# Identifier
CREATE DIRECTED EDGE IDENTIFIER_METHOD_PARAMETER_IN (FROM IDENTIFIER_VERT, TO METHOD_PARAMETER_IN_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_IDENTIFIER (FROM IDENTIFIER_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_METHOD_RETURN (FROM IDENTIFIER_VERT, TO METHOD_RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_LITERAL (FROM IDENTIFIER_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_CALL (FROM IDENTIFIER_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_LOCAL (FROM IDENTIFIER_VERT, TO LOCAL_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_FIELD_IDENTIFIER (FROM IDENTIFIER_VERT, TO FIELD_IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_RETURN (FROM IDENTIFIER_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_BLOCK (FROM IDENTIFIER_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_METHOD_REF (FROM IDENTIFIER_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_CONTROL_STRUCTURE (FROM IDENTIFIER_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE IDENTIFIER_UNKNOWN (FROM IDENTIFIER_VERT, TO UNKNOWN_VERT, name STRING) 
# Field identifier
CREATE DIRECTED EDGE FIELD_IDENTIFIER_LITERAL (FROM FIELD_IDENTIFIER_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_CALL (FROM FIELD_IDENTIFIER_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_LOCAL (FROM FIELD_IDENTIFIER_VERT, TO LOCAL_VERT, name STRING)
CREATE DIRECTED EDGE FIELD_IDENTIFIER_FIELD_IDENTIFIER (FROM FIELD_IDENTIFIER_VERT, TO FIELD_IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_IDENTIFIER (FROM FIELD_IDENTIFIER_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_RETURN (FROM FIELD_IDENTIFIER_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_BLOCK (FROM FIELD_IDENTIFIER_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_ARRAY_INITIALIZER (FROM FIELD_IDENTIFIER_VERT, TO ARRAY_INITIALIZER_VERT, name STRING)
CREATE DIRECTED EDGE FIELD_IDENTIFIER_METHOD_REF (FROM FIELD_IDENTIFIER_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_CONTROL_STRUCTURE (FROM FIELD_IDENTIFIER_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE FIELD_IDENTIFIER_UNKNOWN (FROM FIELD_IDENTIFIER_VERT, TO UNKNOWN_VERT, name STRING) 
# Return
CREATE DIRECTED EDGE RETURN_METHOD_RETURN (FROM RETURN_VERT, TO METHOD_RETURN_VERT, name STRING)
CREATE DIRECTED EDGE RETURN_LITERAL (FROM RETURN_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_CALL (FROM RETURN_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_IDENTIFIER (FROM RETURN_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_BLOCK (FROM RETURN_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_RETURN (FROM RETURN_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_METHOD_REF (FROM RETURN_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_CONTROL_STRUCTURE (FROM RETURN_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE RETURN_UNKNOWN (FROM RETURN_VERT, TO UNKNOWN_VERT, name STRING)
# Block
CREATE DIRECTED EDGE BLOCK_LITERAL (FROM BLOCK_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_CALL (FROM BLOCK_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_BLOCK (FROM BLOCK_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_LOCAL (FROM BLOCK_VERT, TO LOCAL_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_IDENTIFIER (FROM BLOCK_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_RETURN (FROM BLOCK_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_METHOD_REF (FROM BLOCK_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE BLOCK_CONTROL_STRUCTURE (FROM BLOCK_VERT, TO CONTROL_STRUCTURE_VERT, name STRING)
CREATE DIRECTED EDGE BLOCK_UNKNOWN (FROM BLOCK_VERT, TO UNKNOWN_VERT, name STRING)
# Method ref
CREATE DIRECTED EDGE METHOD_REF_METHOD_RETURN (FROM METHOD_REF_VERT, TO METHOD_RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_LITERAL (FROM METHOD_REF_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_METHOD_REF (FROM METHOD_REF_VERT, TO METHOD_REF_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_CALL (FROM METHOD_REF_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_IDENTIFIER (FROM METHOD_REF_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_FIELD_IDENTIFIER (FROM METHOD_REF_VERT, TO FIELD_IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_RETURN (FROM METHOD_REF_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_BLOCK (FROM METHOD_REF_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_CONTROL_STRUCTURE (FROM METHOD_REF_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE METHOD_REF_UNKNOWN (FROM METHOD_REF_VERT, TO UNKNOWN_VERT, name STRING) 
# Control structure
CREATE DIRECTED EDGE CONTROL_STRUCTURE_METHOD_RETURN (FROM CONTROL_STRUCTURE_VERT, TO METHOD_RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_MODIFIER (FROM CONTROL_STRUCTURE_VERT, TO MODIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_LITERAL (FROM CONTROL_STRUCTURE_VERT, TO LITERAL_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_CALL (FROM CONTROL_STRUCTURE_VERT, TO CALL_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_LOCAL (FROM CONTROL_STRUCTURE_VERT, TO LOCAL_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_IDENTIFIER (FROM CONTROL_STRUCTURE_VERT, TO IDENTIFIER_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_RETURN (FROM CONTROL_STRUCTURE_VERT, TO RETURN_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_BLOCK (FROM CONTROL_STRUCTURE_VERT, TO BLOCK_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_ARRAY_INITIALIZER (FROM CONTROL_STRUCTURE_VERT, TO ARRAY_INITIALIZER_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_CONTROL_STRUCTURE (FROM CONTROL_STRUCTURE_VERT, TO CONTROL_STRUCTURE_VERT, name STRING) 
CREATE DIRECTED EDGE CONTROL_STRUCTURE_METHOD_REF (FROM CONTROL_STRUCTURE_VERT, TO METHOD_REF_VERT, name STRING)
CREATE DIRECTED EDGE CONTROL_STRUCTURE_UNKNOWN (FROM CONTROL_STRUCTURE_VERT, TO UNKNOWN_VERT, name STRING)
# Unknown
CREATE DIRECTED EDGE UNKNOWN_MODIFIER (FROM UNKNOWN_VERT, TO MODIFIER_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_MEMBER (FROM UNKNOWN_VERT, TO MEMBER_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_LITERAL (FROM UNKNOWN_VERT, TO LITERAL_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_CALL (FROM UNKNOWN_VERT, TO CALL_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_LOCAL (FROM UNKNOWN_VERT, TO LOCAL_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_IDENTIFIER (FROM UNKNOWN_VERT, TO IDENTIFIER_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_FIELD_IDENTIFIER (FROM UNKNOWN_VERT, TO FIELD_IDENTIFIER_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_RETURN (FROM UNKNOWN_VERT, TO RETURN_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_BLOCK (FROM UNKNOWN_VERT, TO BLOCK_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_ARRAY_INITIALIZER (FROM UNKNOWN_VERT, TO ARRAY_INITIALIZER_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_METHOD_REF (FROM UNKNOWN_VERT, TO METHOD_REF_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_CONTROL_STRUCTURE (FROM UNKNOWN_VERT, TO CONTROL_STRUCTURE_VERT, name STRING)
CREATE DIRECTED EDGE UNKNOWN_UNKNOWN (FROM UNKNOWN_VERT, TO UNKNOWN_VERT, name STRING)

CREATE GRAPH cpg (*)

CREATE QUERY findVertexByAstOrder(INT astOrder) FOR GRAPH cpg RETURNS (Set<VERTEX>) {
  start = {ANY};
  result = SELECT s
           FROM start:s
           WHERE s.astOrder == astOrder;
  PRINT result;
  RETURN result;
}

CREATE QUERY isASTVertex(INT astOrder) FOR GRAPH cpg {
  BOOL result;
  start = {ANY};
  temp = SELECT s
         FROM start:s
         WHERE s.astOrder == astOrder;
  IF temp.size() > 0 THEN result = TRUE; ELSE result = FALSE; END;
  PRINT result;
}

CREATE QUERY areASTVerticesJoinedByEdge(INT blockFrom, INT blockTo, STRING edgeLabel) FOR GRAPH cpg {
  bool result;
  setFrom = {ANY};
  temp = SELECT tgt
          FROM setFrom:src -(:e)- :tgt
          WHERE ((src.astOrder == blockFrom
            AND tgt.astOrder == blockTo)
            OR
            (src.astOrder == blockTo
            AND tgt.astOrder == blockFrom))
            AND e.name == edgeLabel;
  result = (temp.size() > 0);
  PRINT result;
}

CREATE QUERY maxOrder() FOR GRAPH cpg {
  MaxAccum<INT> @@maxAstOrder;
  @@maxAstOrder += 0;
  start = {ANY};
  result = SELECT s
           FROM start:s
           ACCUM @@maxAstOrder += s.astOrder;
  PRINT @@maxAstOrder;
}

INSTALL QUERY ALL
